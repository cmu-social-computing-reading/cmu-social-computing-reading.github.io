<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-sheetrock/1.1.4/dist/sheetrock.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Social Computing Reading Group</title>
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg navbar-dark"
      style="background-color: #666666;"
    >
      <div class="container">
        <h2>CMU Social Computing Reading Group</h2>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto">
            <!-- <li class="nav-item">
                <a class="nav-link" href="#pubs">Publications</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./assets/application_materials/CV_Pranav.pdf">Curriculum Vitae</a>
            </li> -->
            <li class="nav-item">
              <a class="btn btn-light my-2 my-sm-0" href="#joinus">Join us!</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="jumbotron" style="padding-top: 2rem; padding-bottom: 2rem;">
        <p>
          <strong>What?</strong> <br />
          We are a student-run, weekly reading group focused on discussing
          recent research in Social Computing. Themes that interest the group
          include Online Communities, Computer Supported Cooperative Work,
          Computer Mediated Communication, FATE, Digital Humanities and more!
          You can get a better sense of the kinds of papers we've discussed in
          the past
          <a
            href="https://docs.google.com/document/d/1XgaGdh8KvdhIwE3c4mbKwMJSy7FMIcjqzJqqqIZhtFQ/edit?usp=sharing"
            >here</a
          >. If you have questions, please contact Pranav Khadpe (<a
            href="mailto:pkhadpe@cs.cmu.edu"
            >pkhadpe@cs.cmu.edu</a
          >) or Qinlan Shen (<a href="mailto:qinlans@andrew.cmu.edu"
            >qinlans@andrew.cmu.edu</a
          >).
        </p>

        <p>
          <strong>Who?</strong> <br />
          We are students and faculty across departments (and institutions) with
          an interest in social computing. Typically, participants from CMU
          include students from the Human-Computer Interaction Institute, the
          Language Technologies Institute, and the Institute for Software
          Research but anyone interested in joining us is welcome!
        </p>
        <p>
          <strong>When and where?</strong> <br />
          We meet on Mondays from 2:00pm to 3:00pm on Zoom.
        </p>
      </div>
      <div class="form-group">
        <div class="row">
          <div
            class="col-md-2 d-flex align-items-center"
            style="padding-right:0;"
          >
            <p style="margin-bottom:0;"><strong>Schedule</strong></p>
          </div>
          <div class="col-md-10">
            <select
              class="form-control"
              id="options"
              style="width: 15rem; margin-left: -6rem;"
              onchange="updatesheet(this)"
            >
              <!-- <option>Spring 2021</option> -->
              <script id="year-template" type="text/x-handlebars-template">
                {{#ifCond cells.Semester}}
                {{else}}
                    <option value={{cells.Sheet}}>{{cells.Semester}}</option>
                {{/ifCond}}
              </script>
            </select>
          </div>
        </div>
      </div>

      <table
        class="table table-condensed table-striped"
        style="margin-bottom:2rem;"
      >
        <thead>
          <tr>
            <th>Date</th>
            <th>Paper</th>
            <th>Slides</th>
          </tr>
        </thead>
        <tbody id="papers">
          <script id="paper-template" type="text/x-handlebars-template">
            <tr>
                <td>{{cells.Date}}</td>
                <td><strong>{{cells.Paper}}</strong><br>
                    {{#if cells.Authors}}
                        {{cells.Authors}}
                        {{#if cells.Venue}}
                        , {{cells.Venue}}
                        {{/if}}.
                    {{/if}}
                    {{#if cells.Link}}
                        (<a href={{cells.Link}}>Paper</a>)
                    {{/if}}</td>
                <td>
                    {{#if cells.Slides}}
                        <a href={{cells.Slides}}>Slides</a>
                    {{/if}}
                </td>
            </tr>
          </script>
        </tbody>
      </table>

      <div class="card" id="joinus" style="width:100%; margin-bottom:2rem;">
        <div class="card-body">
          <p><strong>Join us</strong></p>
          <p>
            If you are interested in participating, please contact Pranav Khadpe
            (<a href="mailto:pkhadpe@cs.cmu.edu">pkhadpe@cs.cmu.edu</a>) or
            Qinlan Shen (<a href="mailto:qinlans@andrew.cmu.edu"
              >qinlans@andrew.cmu.edu</a
            >) to be added to the listserv and Slack group.
          </p>
        </div>
      </div>
    </div>
    <footer style="height:258px;"></footer>
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>

    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    -->
    <script>
      Handlebars.registerHelper("ifCond", function(v1, options) {
        if (v1 === "Semester") {
          return options.fn(this);
        }
        return options.inverse(this);
      });

      var metasheet =
        "https://docs.google.com/spreadsheets/d/192zfhJft85QSUugcKVNlEwRWUGFQQhw5_-uQMf45cZM/edit#gid=0";
      var YearTemplate = Handlebars.compile($("#year-template").html());
      var PaperTemplate = Handlebars.compile($("#paper-template").html());

      $("#options").sheetrock({
        url: metasheet,
        query: "select A, B",
        rowTemplate: YearTemplate,
        callback: function(error, options, response) {
          var spreadsheet = $("#options")
            .first()
            .val();
          $("#papers").sheetrock({
            url: spreadsheet,
            query: "select A, C, D, E, F, G, H",
            rowTemplate: PaperTemplate
          });
        }
      });

      // $(document).ready(function(){
      //     // do some html stuff here

      //     console.log($('#options').first().val());
      // })
      // console.log($('#options').first().val());
      // var spreadsheet = $('#options').first().val();
      // var spreadsheet = "https://docs.google.com/spreadsheets/d/1-WXjBQJN2RTYoEtRU2jAmFyjm8HqldHUcf9Mes2zDsk/edit#gid=0";

      function updatesheet(event) {
        spreadsheet = event.value;
        console.log(spreadsheet);
        $("#papers").html("");
        $("#papers").sheetrock({
          url: spreadsheet,
          reset: true,
          query: "select A, C, D, E, F, G, H",
          rowTemplate: PaperTemplate
        });
      }
    </script>
  </body>
</html>
